!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.utils=t():e.utils=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{utilApp:()=>r,utilBase:()=>n});var n={};e.r(n),e.d(n,{Add:()=>C,Cookie:()=>x,CountDown:()=>u,Div:()=>T,Mul:()=>O,Sub:()=>I,copy:()=>k,countLenChar:()=>g,countLenWord:()=>p,curry:()=>f,formatTime:()=>i,getLatest:()=>c,getParam:()=>l,getRangeRandom:()=>y,getSoftName:()=>R,loadScript:()=>h,priceFix:()=>m,random:()=>b,serialize:()=>d,stopBubble:()=>w,stopDefault:()=>S,toCSV:()=>M,toExcel:()=>E,toQuery:()=>s,typeOf:()=>j});var r={};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd hh:MM:ss";if(!(e=e))return"----";(e+"").indexOf(".")>=0&&(e=(e+"").replace(/\./g,"/"));var n=new Date(+e),r={"m+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"M+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()},o=t;return/(y+)/.test(t)&&(o=t.replace(RegExp.$1,"".concat(n.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(r).forEach((function(e){new RegExp("(".concat(e,")")).test(t)&&(o=o.replace(RegExp.$1,1===RegExp.$1.length?r[e]:"00".concat(r[e]).substr("".concat(r[e]).length)))})),o}function c(e,t){var n=+new Date,r={"M+":6e4,"h+":36e5,"d+":216e6,"m+":null,"y+":null},o=0;if(["M+","h+","d+"].includes(t))o=n-e*r[t];else if("m+"===t){var a=new Date;o=a.setMonth(a.getMonth()-e)}else if("y+"===t){var i=new Date;o=i.setYear(i.getFullYear()-e)}return{start:o,end:n}}e.r(r),e.d(r,{getLatestDay:()=>D,getLatestHour:()=>P,getLatestMonth:()=>N,getLatestYear:()=>F,utilBase:()=>n});var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"end",void 0),a(this,"time",void 0),a(this,"timeout",void 0),a(this,"interval",void 0),a(this,"isPrecision",void 0),a(this,"isZero",void 0),a(this,"isImmediate",void 0),a(this,"intervalFn",void 0),this.end=t.end,this.interval=t.interval||1e3,this.isPrecision=t.isPrecision||!1,this.isZero=t.isZero||!0,this.isImmediate=t.isImmediate||!0,this.intervalFn=t.intervalFn,this.timeout=0,this.time=this.getTime(0)}var t,n;return t=e,(n=[{key:"start",value:function(){var e=this;this.isImmediate&&this.intervalFn&&this.intervalFn(this.time,this),this.isPrecision?this.runTaskIntervalPrecision(this.interval,0):this.runTaskInterval(this.interval,(function t(){e.runTaskInterval(e.interval,t)}))}},{key:"isExpired",value:function(){return+new Date>this.end}},{key:"isStop",value:function(){return+new Date>=this.end}},{key:"runTaskInterval",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){n.time=n.getTime(n.end),n.intervalFn&&n.intervalFn(n.time,n),n.isExpired()||t&&t()}),e)}},{key:"runTaskIntervalPrecision",value:function(e,t){var n=this;t||(t=0);var r=+new Date;this.runTaskInterval(e,(function o(){var a=+new Date,i=e-(a-(r+t*e));n.runTaskInterval(i,o),t+=1}))}},{key:"getTime",value:function(e){var t=e-+new Date;t<0&&(t=0);var n=36e5,r=864e5,o=Math.floor(t/r);t-=o*r;var a=Math.floor(t/n);t-=a*n;var i=Math.floor(t/6e4);t-=6e4*i;var c=Math.floor(t/1e3);t-=1e3*c;var u=Math.floor(t);return this.isZero?{day:this.addZero(o,2),hour:this.addZero(a,2),minute:this.addZero(i,2),second:this.addZero(c,2),miniSecond:this.addZero(u,2)}:{day:""+o,hour:""+a,minute:""+i,second:""+c,miniSecond:""+u}}},{key:"addZero",value:function(e,t){return(e+"").length>=t?""+e:this.addZero("0"+e,t)}}])&&o(t.prototype,n),e}();function l(e,t){var n=new RegExp("[?&]".concat(t,"=([^&#]+)")).exec(e);return n&&n[1]?n[1]:""}function s(e){return Object.keys(e).reduce((function(t,n){return void 0===e[n]?t:"".concat(t,"&").concat(n,"=").concat(e[n])}),"").slice(1)}function d(e){var t=[];for(var n in e)t.push("".concat(n,"=").concat(encodeURIComponent(e[n])));return t.join("&")}function h(e,t){try{var n=document.createElement("script");n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}catch(e){console.log("error: ",e)}}function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t<=r.length?e.apply(void 0,r):f.bind.apply(f,[null,e,t].concat(r))}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(~~(+e*Math.pow(10,t)).toPrecision(12)/Math.pow(10,t)).toFixed(t)}function g(e){var t=function(e){return(e||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")}(e),n=t.length;if(!n)return 0;var r=t.match(/[\u4e00-\u9fa5]/g);return n+(r?r.length:0)}function p(e){var t,n=0,r=e.length,o=-1;for(t=0;t<r;t++)n+=(o=e.charCodeAt(t))>=0&&o<=128||o>=65248&&o<=65373||12288==o||12289==o||12290==o?.5:1;return Math.round(n)}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"getRangeRandomIntEqual",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"getIntRangeRandomIntNotEqual",value:function(e,t){return Math.floor(Math.random()*(t-1-(e+1)))+(e+1)}},{key:"getRangeRandomLeftEqual",value:function(e,t){return e+(t-e)*Math.random()}}])&&v(t.prototype,n),e}(),y=f((function(e,t,n){var r=new b;switch(n){case"equal":return r.getRangeRandomIntEqual(e,t);case"notEqual":return r.getIntRangeRandomIntNotEqual(e,t);case"leftEqual":return r.getRangeRandomLeftEqual(e,t)}}),3),x={get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},set:function(e,t,n,r,o){var a=e+"="+encodeURIComponent(t);n&&(a+=";expires="+new Date(n).toUTCString()),a=r?a+";domain="+r:a,a=o?a+";path="+o:a,document.cookie=a},del:function(e,t,n){var r=e+"=null;expires="+new Date("1970-01-01").toUTCString();r=t?r+";domain="+t:r,r=n?r+";path="+n:r,document.cookie=r},getObject:function(){var e=document.cookie.split(";");console.log("arr: ",e);for(var t="{",n=0;n<e.length;n++){var r=e[n].split("=");t+='"'+r[0].replace(/\s+/g,"")+'":"'+encodeURIComponent(r[1])+'",'}return t=t.slice(0,-1),t+="}",JSON.parse(t)}},w=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},S=function(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1};function k(e,t,n){var r=function(e,t,n){var r;return function(o,a,i){var c,u;!function(e){(r=t.createElement("textArea")).value=e,t.body.appendChild(r)}(o),n.userAgent.match(/ipad|iphone/i)?((c=t.createRange()).selectNodeContents(r),(u=e.getSelection()).removeAllRanges(),u.addRange(c),r.setSelectionRange(0,999999)):r.select(),function(e,n){try{t.execCommand("Copy")?e?e&&e():alert("复制成功！"):n?n&&n():alert("复制失败！请手动复制！")}catch(e){console.log("err: ",e),n?n&&n():alert("复制出错！请手动复制！")}t.body.removeChild(r)}(a,i)}}(window,document,navigator);return r(e,t,n)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test",n="data:application/vnd.ms-excel;base64,",r='<html xmlns:x="urn:schemas-microsoft-com:office:excel"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:WorksheetOptions><x:Print><x:ValidPrinterInfo /></x:Print></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e </head><body><table>{table}</table></body></html>';e.nodeType||(e=document.getElementById(e));var o={worksheet:t||"Worksheet",table:e.innerHTML},a=function(e){return window.btoa(unescape(encodeURIComponent(e)))},i=function(e,t){return e.replace(/{(\w+)}/g,(function(e,n){return t[n]}))},c=n+a(i(r,o)),u=document.createElement("a");u.href=c,u.download="".concat(t,".xls"),document.body.appendChild(u),u.click(),u.remove()}function M(e,t){var n=window,r=n.URL,o=n.navigator,a=void 0===t?e:t,i=this.tableToCSV(document.getElementById(e)),c=new Blob([i],{type:"text/csv"});o.msSaveOrOpenBlob?o.msSaveOrOpenBlob(c,a+".csv"):this.downloadAnchor(r.createObjectURL(c),t,"csv")}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return e.toLowerCase().indexOf("micromessenger")>-1?"weixin":e.match(/QQ/i)?"qq":e.match(/iPhone/i)?"apple":e.match(/Android/i)?"android":void 0}function j(e){var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"},n=Object.prototype.toString.call(e);if(n in t)return t[n]}function C(e,t,n){e=e.toString(),t=t.toString();var r=e.split("."),o=t.split("."),a=2==r.length?r[1]:"",i=2==o.length?o[1]:"",c=Math.max(a.length,i.length),u=Math.pow(10,c),l=Number(((+e*u+ +t*u)/u).toFixed(c));return"number"==typeof n?Number(l.toFixed(n)):l}M.prototype.downloadAnchor=function(e,t,n){var r=document.createElement("a");r.style="display:none !important",r.id="downloadanchor",document.body.appendChild(r),"download"in r&&(r.download=t+"."+n),r.href=e,r.click(),r.remove()},M.prototype.tableToCSV=function(e){var t=Array.prototype.slice;return t.call(e.rows).map((function(e){return t.call(e.cells).map((function(e){return'"t"'.replace("t",e.textContent)})).join(",")})).join("\r\n")};var I=function(e,t,n){return C(e,-Number(t),n)},O=function(e,t,n){e=e.toString(),t=t.toString();var r=e.split("."),o=t.split("."),a=2==r.length?r[1]:"",i=2==o.length?o[1]:"",c=a.length+i.length,u=Number(e.replace(".",""))*Number(t.replace(".",""))/Math.pow(10,c);return"number"==typeof n?Number(u.toFixed(n)):u},T=function(e,t,n){e=e.toString(),t=t.toString();var r=e.split("."),o=t.split("."),a=2==r.length?r[1]:"",i=2==o.length?o[1]:"",c=a.length-i.length,u=Number(e.replace(".",""))/Number(t.replace(".",""))*Math.pow(10,c);return"number"==typeof n?Number(u.toFixed(n)):u};function P(e,t){var n=c(e,"h+"),r=n.start,o=n.end;return t&&(n.startString=i(r,t),n.endString=i(o,t)),n}function D(e,t){var n=c(e,"d+"),r=n.start,o=n.end;return t&&(n.startString=i(r,t),n.endString=i(o,t)),n}function N(e,t){var n=c(e,"m+"),r=n.start,o=n.end;return t&&(n.startString=i(r,t),n.endString=i(o,t)),n}function F(e,t){var n=c(e,"y+"),r=n.start,o=n.end;return t&&(n.startString=i(r,t),n.endString=i(o,t)),n}return t})()}));